# 여행은 계속된다

## 결

- 프로그래밍 언어마다 결이 있어서 결에 따라 어떤 설계 스타일을 더 쉽게 적용할 수 있고 다른 설계 스타일을 적용하기에는 어렵거나 위험할 수 있습니다.
- 코틀린과 자바의 결은 다음과 같은 차이를 가집니다.
    - 자바는 가변 객체와 리플렉션을 선호하며 합성성과 타입 안전성을 대가로 지불합니다.
    - 코틀린은 불변 값을 변환하는 것과 독립적인 함수를 선호하며, 비침투적이고 도움이 많이 되는 타입을 제공합니다.

## 함수형 사고
- 함수형 프로그래머들은 어떤일이 훨씬 적게 발생하는 것이 문제가 발생하는 것을 막기 가장 좋은 방법으로 생각합니다.
- 함수형 프로그래머들은 어떤 일이 발생하는 것을 효과라고 부릅니다.
- 함수 안에서 컬렉션이나 변수를 변경하는 것은 효과지만, 변경한 내용이 함수 밖으로 공유되지 않으면 효과가 입니다.
    - 변경한 내용이 함수 밖에 영향을끼치지 못하기 때문입니다.
    - 공유된 상태를 변경하기 시작하면 지역적인 효과가 공유된 상태를 볼 수 있는 모든 영역에 영향을 끼치게 되고, 복잡도가 빠르게 늘어나서 코드를 이해하기가 더 어려워집니다.
- 함수가 실제로 공유된 상태를 변경하지 않는 것만으로는 충분하지 않습니다.
    - 변경할 가능성이 있으면 그 함수의 소스 코드를 살펴봐야만 하며, 해당 소스 코드에서 호출되는 모든 함수도 재귀적으로 살펴봐야 우리 시스템이 어떤 일을 하는지 알 수 있습니다.
    -
- 따라서 함수형 프로그래머들은 변이를 줄여서 복잡도를 줄입니다.
    - 예를 들어 불변 변수 선언과 같이 상태 변경을 막는 방법이 해당됩니다.
## 단순한 설계
- 간단한 설계란 다음과 같은 설계를 뜻합니다.
    - 테스트를 통과합니다.
    - 작성자의 의도를 드러낸다.
    - 중복이 없다
    - 최소한의 구성 요소로 이뤄진다.
- 함수인지 동작인지 명확히 표현하여 의도를 더 잘 드러낼 수 있습니다.
- 동작을 상호 작용의 진입점에 최대한 가깝게 내보내서 동작이 오염시키는 코드의 범위를 최소화하는 것이 좋습니다.

## 함수형 프로그래밍과 텍스트를 통한 추론
- 함수형 프로그래밍은 다이어그램이나 시각화 대신 대수적 추론을 목표로 합니다.
- 대수적 추론은 프로그램 텍스트를 조작해 프로그램의 행동 방식을 추론하는 것을 뜻합니다.
    - 그 결과, 소스 코드와 실행 시점의 프로그램 상태 사이에 더 밀접한 연관이 생깁니다.
## 리팩터링
- 세부적인 요구사항을 가지고 개발을 시작하더라도 갈수록 초기 명세와는 다른 형태로 끝날 확률이 높습니다.
- 테스트를 빠르게 통과하는 방법을 찾고 해당 테스트 통과하고 나면 원하는 형태로 리팩터링하는 것이 빠르게 애플리케이션을 개발할 수 있습니다.
## 리팩터링과 함수형 사고
- 리팩터링은 코드를 재배열하는 것이고, 코드가 동작을 표현할때는 재배열에 따라 동작의 실행이 달라질 수 있고 그로인해 소프트웨어의 기능도 달라질 수 있습니다.
- 계산을 재배열을 해도 안전합니다.
- 함수형 사고는 동작을 식별하고 제어하도록 권장하며, 동작을 구별해 제어하면 리팩터링도 더 안전해집니다.
- 코드는 변경하기 쉽게 만드는 것이 유연한 코드를 만들 수 있는 지름길입니다.